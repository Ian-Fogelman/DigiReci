

<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta name="description" content="">
      <meta name="author" content="">
      <title>Training Data Summary</title>
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
      <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
      <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">

       <script src="https://code.highcharts.com/highcharts.js"></script>
       <script src="https://code.highcharts.com/modules/data.js"></script>
       <script src="https://code.highcharts.com/modules/exporting.js"></script>
       <script src="https://code.highcharts.com/modules/export-data.js"></script>

   </head>
   <style>
      .pixel {
      display: table-cell;
      background-color: white;
      width: 20px;
      height: 20px;
      }
      .pen {
      display: inline-block;
      width: 40px;
      height: 40px;
      border: 2px solid black;
      }

      #art {
      display: table;
      border-spacing: 1px;
      background-color: black;
      border: 5px solid black;
      }
      .highlight {
      background: #000000;
      }
   </style>
   <body id="page-top">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
         <a class="navbar-brand" href="#">Digi Reci</a>
         <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
         <span class="navbar-toggler-icon"></span>
         </button>
         <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
               <li class="nav-item">
                  <a class="nav-link" href="/index">Predict <span class="sr-only">(current)</span></a>
               </li>
               <li class="nav-item">
                  <a class="nav-link" href="/train">Train</a>
               </li>
               <!--<li class="nav-item">
                  <a class="nav-link" href="/test">Test</a>
               </li>-->
               <li class="nav-item">
                  <a class="nav-link active" href="/stats">Stats</a>
               </li>
            </ul>
         </div>
      </nav>
      <div id="content-wrapper">
         <div class="container-fluid">
               <br />
               <div class="card card-body bg-light" style="text-align:center;>
                  <div class="row">
                     <center><h3 style="text-align:center;">Model Metrics</h3></center>
                  </div>
               </div>
             <div class="container">
                 <div class="col">

                 </div>
                 <div class="col">

                 </div>
             </div>
         </div>
      </div>

      </center>

      <br />
      <br />
    <div class="container-fluid">
        <div class="row">

            <!-- Earnings (Monthly) Card Example -->
            <div class="col-xl-3 col-md-6 mb-4">
              <div class="card border-left-primary shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Pixels Drawn</div>
                      <div id= "pixelsdraw" class="h5 mb-0 font-weight-bold text-gray-800" style="color:#007bff;">3245</div>
                    </div>
                    <div class="col-auto">
                      <i class="fas fa-pencil-alt fa-2x text-gray-300" style="color:#007bff;"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Earnings (Monthly) Card Example -->
            <div class="col-xl-3 col-md-6 mb-4">
              <div class="card border-left-success shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-success text-uppercase mb-1">TOTAL TRAINING RECORDS</div>
                      <div id= "trainingcount"  class="h5 mb-0 font-weight-bold text-gray-800" style="color:#28a746">21</div>
                    </div>
                    <div class="col-auto">
                      <i class="fas fa-magic fa-2x text-gray-300" style="color:#28a746"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Earnings (Monthly) Card Example -->
            <div class="col-xl-3 col-md-6 mb-4">
              <div class="card border-left-info shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Overall Model Accuracy</div>
                      <div class="row no-gutters align-items-center">
                        <div class="col-auto">
                          <div id ="modelacc" class="h5 mb-0 mr-3 font-weight-bold text-gray-800" style="color:#17a2b8">50%</div>
                        </div>
                        <div class="col">
                          <div class="progress progress-sm mr-2">
                            <div id="progressbar" class="progress-bar bg-info" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-auto">
                      <!--<i class="fas fa-clipboard-list fa-2x text-gray-300"></i>-->
                      <i class="fas fa-crosshairs fa-2x text-gray-300" style="color:#17a2b8"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Pending Requests Card Example -->
            <div class="col-xl-3 col-md-6 mb-4">
              <div class="card border-left-warning shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-danger text-uppercase mb-1">Last Model Training</div>
                      <div id= "lastmodeltrain"  class="h5 mb-0 font-weight-bold text-gray-800" style="color:#C82333">8/24/2019</div>
                    </div>
                    <div class="col-auto">
                      <i class="fas fa-calendar fa-2x text-gray-300" style="color:#C82333"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

        <div class="row">

            <!-- Area Chart -->
            <div class="col-xl-8 col-lg-7">
              <div class="card shadow mb-4">
                <!-- Card Header - Dropdown -->
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                  <h6 class="m-0 font-weight-bold text-primary">Model Accuracy By Label</h6>
                </div>
                <!-- Card Body -->
                <div class="card-body">
                  <div class="chart-area"><div class="chartjs-size-monitor"><div class="chartjs-size-monitor-expand"><div class=""></div></div><div class="chartjs-size-monitor-shrink"><div class=""></div></div></div>
                    <div id="HCcontainer" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Pie Chart -->
            <div class="col-xl-4 col-lg-5">
              <div class="card shadow mb-4">
                <!-- Card Header - Dropdown -->
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                  <h6 class="m-0 font-weight-bold text-primary">Your Training Data</h6>
                </div>
                <!-- Card Body -->
                <div class="card-body">
                 <div id="HCcontainer2" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
                </div>
              </div>
            </div>
          </div>
    </div>
      <br />
      <br />

      <div class="container">
    <div class="row">
    <div class="col">
                   <!--{% for table in tables %}
                   {{titles[loop.index]}}
                   {{ table|safe }}
                   {% endfor %}-->
    </div>
    <div class="col">
    </div>
    <div class="col">
    </div>
  </div>





</div>
      <!-- /.container-fluid -->
      <!-- Sticky Footer -->
      <footer class="sticky-footer">
         <div class="container my-auto">
            <div class="copyright text-center my-auto">
               <span>Copyright © Digi Reci 2019</span>
            </div>
         </div>
      </footer>
      </div>
      </div>


   </body>
   <script>
      $(document).ready(function () {



        var xhr2 = new XMLHttpRequest();
        xhr2.open("GET", "/moddate", true);
        xhr2.setRequestHeader('Content-Type', 'application/json');
        xhr2.send();
        xhr2.onload = function()
        {
          console.log(this.responseText);
          document.getElementById("lastmodeltrain").innerHTML = this.responseText;

        }

        var xhr2 = new XMLHttpRequest();
        xhr2.open("GET", "/pixelsdraw", true);
        xhr2.setRequestHeader('Content-Type', 'application/json');
        xhr2.send();
        xhr2.onload = function()
        {
          console.log(this.responseText);
          document.getElementById("pixelsdraw").innerHTML = this.responseText;
        }

        var xhr2 = new XMLHttpRequest();
        xhr2.open("GET", "/trainingcount", true);
        xhr2.setRequestHeader('Content-Type', 'application/json');
        xhr2.send();
        xhr2.onload = function()
        {
          console.log(this.responseText);
          document.getElementById("trainingcount").innerHTML = this.responseText;
        }

        var xhr2 = new XMLHttpRequest();
        xhr2.open("GET", "/modelSomething", true);
        xhr2.setRequestHeader('Content-Type', 'application/json');
        xhr2.send();
        xhr2.onload = function()
        {
          console.log(this.responseText);
          document.getElementById("modelacc").innerHTML = this.responseText + "%";
           $('#progressbar').width(this.responseText + "%").attr('aria-valuenow', this.responseText);
        }


        var result=[];
        var xdata = "";
        var xxdata = "";

        var xhr2 = new XMLHttpRequest();
        xhr2.open("GET", "/trainingRecordHC", true);
        xhr2.setRequestHeader('Content-Type', 'application/json');
        xhr2.send();
        xhr2.onload = function()
        {
          xdata = this.responseText;
          xxdata = xdata.split(', ');
          result = xxdata.map(Number);

          Highcharts.chart('HCcontainer2', {
            chart: {
                type: 'areaspline'
            },
            title: {
                text: 'Training Records By Label'
            },
            legend: {
                layout: 'vertical',
                align: 'left',
                verticalAlign: 'top',
                x: 150,
                y: 100,
                floating: true,
                borderWidth: 1,
                backgroundColor:
                    Highcharts.defaultOptions.legend.backgroundColor || '#FFFFFF'
            },
            xAxis: {
                categories: [
                    '0',
                    '1',
                    '2',
                    '3',
                    '4',
                    '5',
                    '6',
                    '7',
                    '8',
                    '9'
                ]
            },
            yAxis: {
                title: {
                    text: 'Training Records'
                }
            },
            xAxis: {
                title: {
                    text: 'Label'
                }
            },
            tooltip: {
                shared: true
            },
            credits: {
                enabled: false
            },
            plotOptions: {
                areaspline: {
                    fillOpacity: 0.5,
                    color: '#007bff'
                }
            },
            series: [{
                showInLegend: false,
                name: 'Training Records',
                data: result
            }]
        });
        }


        var xhr2 = new XMLHttpRequest();
        xhr2.open("GET", "/labelaccuracy", true);
        xhr2.setRequestHeader('Content-Type', 'application/json');
        xhr2.send();
        xhr2.onload = function()
        {
          xdata = this.responseText;
          xxdata = xdata.split(', ');
          result = xxdata.map(Number);
          console.log(result);
        Highcharts.chart('HCcontainer', {
    chart: {
        type: 'areaspline'
    },
    title: {
        text: 'Model Accuracy By Label'
    },
    legend: {
        layout: 'vertical',
        align: 'left',
        verticalAlign: 'top',
        x: 150,
        y: 100,
        floating: true,
        borderWidth: 1,
        backgroundColor:
            Highcharts.defaultOptions.legend.backgroundColor || '#FFFFFF'
    },
    xAxis: {
        categories: [
            '0',
            '1',
            '2',
            '3',
            '4',
            '5',
            '6',
            '7',
            '8',
            '9'
        ]
    },
    yAxis: {
        title: {
            text: 'Accuracy %'
        }
    },
    xAxis: {
        title: {
            text: 'Label'
        }
    },
    tooltip: {
        shared: true,
        valueSuffix: ' %'
    },
    credits: {
        enabled: false
    },
    plotOptions: {
        areaspline: {
            fillOpacity: 0.5
        }
    },
    series: [{
        showInLegend: false,
        name: 'Training Accuracy',
        data: result,
        color: '#007bff'
    }]
});

}




          toastr.options = {
				'closeButton': true,
				'debug': false,
				'newestOnTop': false,
				'progressBar': false,
				'positionClass': 'toast-top-center',
				'preventDuplicates': false,
				'showDuration': '1000',
				'hideDuration': '1000',
				'timeOut': '5000',
				'extendedTimeOut': '1000',
				'showEasing': 'swing',
				'hideEasing': 'linear',
				'showMethod': 'fadeIn',
				'hideMethod': 'fadeOut',
			}

          var $box = $('.pixel').mousedown(function () {
              $(this).toggleClass('highlight');
              var flag = $(this).hasClass('highlight')
              $box.on('mouseenter.highlight', function () {
                  $(this).toggleClass('highlight', flag);
              });
          });

          $(document).mouseup(function () {
              $box.off('mouseenter.highlight')
          })
      });

      function reloadPage(){
        window.location.reload();
        console.log("Reloading Page.");
      }

   </script>
</html>

